#!/usr/bin/env node
const init = require('../src/init')
const push = require('../src/push')

const argv = require('yargs/yargs')(process.argv.slice(2))
    .usage('Usage: $0 <command> [options]')
    .command(
        'init',
        'Intialize a widget template project',
        yargs => {
            yargs
                .example('$0 init')
        },
        argv => init(argv))
    .command(
        'push [options]',
        'Publish the widget template to your BigCommerce store',
        yargs => {
            yargs
                .option('a', {
                    describe: 'Apply the template to widgets using the current version setting create_new_version: false',
                    alias: 'apply'
                })
                .example('$0 push')
                .example('$0 push -a')
        },
        argv => push(argv))
    .help('h')
    .alias('h', 'help')
    .demandCommand(1)
    .argv